<pepo-header></pepo-header>

<section class="page-container">
  <h1 class="pepo-title title-padd">Редактировать профиль:</h1>

  <form name="editProfileForm">
    <ul class="user-edit">
      <li class="user-edit_item">
        <input type="text" class="pepo_textinput user-edit_name" ng-model="user.username">

      <li class="user-edit_item">
        <div class="user-edit_img-wrapper">
          <img ng-src="{{user.avatarUrl}}"  alt="{{user.name}}"  ng-click="openModalEditPhoto()" class="user-edit_img">
            <div class="user-edit-img_hover">
                <span class="user-edit-img_text">Изменить фото</span>
                <span class="user-edit-img_text__mobile">выбрать фото</span>
            </div>
        </div>
        <div class="new-avatar-tip" ng-show="newAvatarName">Новый аватар: {{newAvatarName}}</div>

      <li class="user-edit_item">
        <textarea class="pepo_textinput user-edit_description" ng-model="user.description"></textarea>

      <li class="user-edit_item user-edit_item__nosepation">
        <div ng-click="updateUser()" class="pepo_btn user-edit_save" ng-class="{'user-edit_save__disabled': formPristine}">Сохранить</div>
      <li class="user-edit_item">
        <div ng-click="editCancel()" class="pepo_btn user-edit_cancel">Отменить</div>
    </ul>
  </form>

</section>

<div class="modal-edit-user-photo" ng-class="{'modal-edit-user-photo__active': varOpenEditPhoto}">
    <div class="modal-edit-user-photo_cover" ng-click="closeModalEditPhoto()"></div>
    <div class="modal-edit-user-photo_form">
        <div class="modal-edit-user-photo_close" ng-click="closeModalEditPhoto()"></div>
            <label>
                <span class="icon-upload"></span>
                <span class="text-upload">Загрузить фото</span>
                    <input type="file" name="upload-user-photo" avatar-load="userEdit.avatar">
            </label>
    </div>
</div>

<div class="modal">
  <div class="modal-fade-screen" ng-class="{'modal-answer__active': isVisible() == 1}">
  <div class="modal-wrapper" ng-click="closeMesModal_bg($event)">
    <div class="modal-inner">
      <div class="modal-close" ng-click="closeMesModal()"></div>
      <header class="pepo-modal-top">Информация</header>
      <section class="pepo-modal-text">Данные успешно сохранены!</section>
      <footer class="pepo-modal-footer">
        <div class="pepo_btn pepo_btn__answer" ng-click="closeMesModal()">ОК</div>
      </footer>
      </div>
      </div>
    </div>
</div>

<div class="modal">
  <div class="modal-fade-screen" ng-class="{'modal-answer__active': isVisible() == -1}">
  <div class="modal-wrapper" ng-click="closeMesModal_bg($event)">
    <div class="modal-inner">
      <div class="modal-close" ng-click="closeMesModal()"></div>
      <header class="pepo-modal-top">Ошибка</header>
      <section class="pepo-modal-text">Введенные данные недопустимы!<br>Проверьте их и повторите операцию</section>
      <footer class="pepo-modal-footer">
        <div class="pepo_btn pepo_btn__answer pepo_btn__error" ng-click="closeMesModal()">ОК</div>
      </footer>
      </div>
      </div>
    </div>
</div>

<div class="modal">
  <div class="modal-fade-screen" ng-class="{'modal-answer__active': varWelcome}">
  <div class="modal-wrapper" ng-click="closeMesModal_bg($event)">
    <div class="modal-inner">
      <div class="modal-close" ng-click="closeMesModal()"></div>
      <header class="pepo-modal-top">Добро пожаловать!</header>
      <section class="pepo-modal-text">Вы впервые в ПЕПО. Выберите себе логин, состоящий из латинских букв длиной 4 и более символа, а также отредактируйте свой профиль</section>
      <footer class="pepo-modal-footer">
        <div class="pepo_btn pepo_btn__answer" ng-click="closeMesModal()">ОК</div>
      </footer>
      </div>
      </div>
    </div>
</div>